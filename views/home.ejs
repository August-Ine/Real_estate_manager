<%- include('partials/header') %>

    <h1>Coordinates Map</h1>
    <div id="map"></div>

    <script>
        function initMap() {
            const map = new google.maps.Map(document.getElementById('map'), {
                center: { lat: -1.2747, lng: 36.8597 }, // Set the initial center of the map
                zoom: 13 // Set the initial zoom level of the map
            });

      // Iterate over the coordinates and create markers on the map
      <% coordinates.forEach((coordinate) => { %>
                new google.maps.Marker({
                    position: { lat: <%= coordinate.latitude %>, lng: <%= coordinate.longitude %> },
                    map: map
                });
      <% }); %>
    }
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?sensor=false&callback=myMap"></script>

    <%- include('partials/footer') %>